plugins {
  id 'com.gradleup.shadow' version '8.3.3'
}

configurations.all {
  resolutionStrategy.eachDependency { DependencyResolveDetails details ->
    if (details.requested.group.startsWith('com.fasterxml.jackson')) {
      details.useVersion '2.15.2'
      details.because 'Need to match the version used by Spark.'
    }
  }
}

dependencies {
  implementation "dev.langchain4j:langchain4j-azure-open-ai:0.35.0"

  testImplementation "org.junit.jupiter:junit-jupiter:5.11.2"

  // langchain4j wants an slf4j implementation on the classpath.
  testImplementation "ch.qos.logback:logback-classic:1.3.14"
}

shadowJar {
  // Avoids conflict with Spark's version of netty.
  relocate "io.netty", "com.marklogic.flux.io.netty"
}
